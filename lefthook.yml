output:
  - summary
  - failure

pre-push:
  commands:
    packages-audit:
      run: pnpm audit

pre-commit:
  commands:
    code-fix:
      run: pnpm biome check --write .
      stage_fixed: true
    css-fix:
      run: pnpm stylelint --fix {staged_files}
      stage_fixed: true
    checks:
      run: pnpm lefthook run checks

checks:
  parallel: true
  commands:
    code-check:
      run: pnpm biome check .
    css-check:
      run: pnpm stylelint {staged_files}
    dead-check:
      run: pnpm knip
    tests:
      run: pnpm vitest run
    typescript:
      run: pnpm tsc --build

prepublish:
  commands:
    checks:
      run: pnpm lefthook run checks
    packages-audit:
      run: pnpm audit